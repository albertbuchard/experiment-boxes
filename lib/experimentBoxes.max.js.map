{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9f1e5ba9a300dc69d49d","webpack:///external {\"commonjs\":\"jQuery\",\"commonjs2\":\"jQuery\",\"amd\":\"jQuery\",\"root\":\"jQuery\"}","webpack:///./src/utilities.js","webpack:///./src/DragBox.js","webpack:///./src/BindedField.js","webpack:///./src/BindedProperty.js","webpack:///./src/SmartModal.js","webpack:///./src/ParamBox.js","webpack:///./src/SmartChart.js","webpack:///./builder.js","webpack:///./config.js","webpack:///(webpack)/buildin/global.js","webpack:///external {\"commonjs\":\"chartjs\",\"commonjs2\":\"chartjs\",\"amd\":\"chartjs\",\"root\":\"Chart\"}","webpack:///external {\"commonjs\":\"experiment-mathjs\",\"commonjs2\":\"experiment-mathjs\",\"amd\":\"experiment-mathjs\",\"root\":\"math\"}","webpack:///external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}"],"names":["noop","debuglog","console","log","bind","debugWarn","warn","debugError","error","mandatory","param","Error","mustBeDefined","args","i","length","mustHaveConstructor","constructorObject","allHaveConstructor","looksLikeAPromise","o","then","catch","delay","ms","Promise","resolve","setTimeout","jitter","min","max","randomDuration","random","recurse","promiseGenerator","amount","target","concatOnArray","next","apply","r","concat","Deferred","reject","promise","Object","freeze","rep","content","count","result","samplePermutation","sequence","repetition","n","constructor","Array","copy","slice","permutation","add","index","Math","floor","splice","matrix","rows","cols","fill","matrixObject","j","getRow","rowIndex","size","row","subset","range","rowSum","rowSumArray","push","sum","diag","setTo","diagonalValues","findAllIndices","needle","haystack","indices","substr","DragBox","boxElement","width","height","window","global","freeHeight","MAX_BINDED_PROPERTIES","INIT_WIDTH","INIT_HEIGHT","TITLE_HEIGHT","FOOTER_HEIGHT","DEFAULT_BOX_THEME","DEFAULT_DRAGGABLE","DEFAULT_STICKINESS_TYPE","boxId","draggable","boxHTML","shouldStick","shouldMagnetize","isStickingX","isStickingY","stickiness","_beingDragged","_visibility","_overflow","_boxClass","_width","_height","map","currentMousePos","x","y","thisObject","document","mousemove","event","pageX","pageY","body","append","attr","boxClass","overflow","keydown","e","keyfunction","keyup","click","css","find","mousedown","startDrag","mouseup","stopDrag","queryString","getQueryString","animate","opacity","remove","contentHeight","preventDefault","beingDragged","offset","clientX","left","clientY","top","loopDrag","newPosX","newPosY","element","offsetLeft","offsetTop","offsetWidth","offsetHeigth","constrainedPosition","stayInWindow","constrainedPositionX","constrainedPositionY","stickyX","leftSticky","stickyY","topSticky","visibility","html","to","wrapInDivClass","child","value","updateSize","dragged","newClass","removeClass","addClass","show","hide","_stickiness","type","contentDiv","query","location","search","substring","vars","split","pair","decodeURIComponent","arr","STOP_BEING_STICKY_AFTER","right","bottom","maxLeft","innerWidth","maxTop","innerHeight","BindedField","object","property","parent","fieldType","allowedValues","hierarchy","VALID_FIELD_TYPE","_field","undefined","fieldHTML","tempClass","subfields","placeInParent","fields","field","checked","change","update","indexOf","val","keyCode","origin","get","blur","toUpperCase","String","convertToType","BindedProperty","HANDLED_VARIABLE_TYPES","propagate","exportName","replace","propertyType","Boolean","SmartModal","formatType","callback","buttonType","DEFAULT_BUTTON_ROW_HTML","DEFAULT_BUTTON_HTML","closebutton","nextbutton","blankbutton","sendbutton","DEFAULT_FORMAT_TYPES","centralSmall","centralLarge","across","overlay","buttonRowHtml","title","button","callAfterConstructor","smartModalObject","resize","updatePosition","callThenDestroy","destroy","format","topPos","leftPos","ParamBox","DEFAULT_ROW_HTML","PARAMBOX_EMPTY_SUBTITLE_ROW_HTML","PARAMBOX_EMPTY_ROW_HTML","savebutton","importbutton","reloadbutton","getElementsByClassName","addEventListener","save","import","reloadAndImport","on","clicked","id","slideToggle","rowHtml","subtitleHtml","subtitleRows","paramPrefixIncrement","prefix","refreshView","properties","options","objectHierarchy","getDescendantProp","objectTemp","underscoredHierarchy","subtitle","lastIndexOf","rowDom","newRowInDom","bindedField","initialValue","constraintValues","values","getBindedRow","delete","subtitleRow","text","style","toggle","summaryArray","importedString","prompt","importedJSON","JSON","parse","setProperty","getSummaryArray","stringified","stringify","open","btoa","str","encodeURIComponent","url","href","questionPosition","description","parentObject","lastProperty","shift","propertyValue","found","SmartChart","chartOptions","extend","canvasID","canvas","getElementById","display","defaults","responsive","maintainAspectRatio","chart","background","closeButton","saveButton","data","datasets","paramBoxFullpath","scripts","getElementsByTagName","src","delimiterIndices","head","link","createElement","rel","appendChild","DEBUG_MODE_ON"],"mappings":"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","file":"experimentBoxes.max.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"), require(\"chartjs\"), require(\"experiment-mathjs\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"experimentBoxes\", [\"jQuery\", \"chartjs\", \"experiment-mathjs\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"experimentBoxes\"] = factory(require(\"jQuery\"), require(\"chartjs\"), require(\"experiment-mathjs\"), require(\"lodash\"));\n\telse\n\t\troot[\"experimentBoxes\"] = factory(root[\"jQuery\"], root[\"Chart\"], root[\"math\"], root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9f1e5ba9a300dc69d49d","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jQuery\",\"commonjs2\":\"jQuery\",\"amd\":\"jQuery\",\"root\":\"jQuery\"}\n// module id = 0\n// module chunks = 0","import _ from 'lodash'\nimport math from 'experiment-mathjs'\nimport { DEBUG_MODE_ON } from '../config'\n\n\n/**\n * noop - just your friendly empty function\n *\n * @returns {undefined}\n */\nfunction noop() {}\n\n\n/**\n * Debug functions\n */\nconst debuglog = DEBUG_MODE_ON ? console.log.bind(console) : noop\nconst debugWarn = DEBUG_MODE_ON ? console.warn.bind(console) : noop\nconst debugError = DEBUG_MODE_ON ? console.error.bind(console) : noop\n\n/**\n * Allows to return an error for missing parameters.\n * @param  {String} param Optional string to add after the error.\n */\nfunction mandatory(param = '') {\n  throw new Error(`Missing parameter ${param}`)\n}\n\n/**\n * Checks the type of all given parameters, return an error if one is undefined.\n * @param  {...object} args List of arguments to checks\n * @return {bool}      true if all arguments are defined\n */\n\nfunction mustBeDefined(...args) {\n  for (let i = 0; i < args.length; i++) {\n    if (typeof args[i] === 'undefined') {\n      throw new Error(`Argument ${i} is undefined.`)\n    }\n  }\n\n  return true\n}\n\n/**\n * Checks the constructor of all given parameters, return an error if one is not as specified.\n * @param  {object} constructorObject constructor\n * @param  {...object} args         list of arguments to check\n * @return {bool}                   true if all arguments have specified constructorObject as constructor\n */\n\nfunction mustHaveConstructor(constructorObject, ...args) {\n  if (args.allHaveConstructor(constructorObject) === false) {\n    throw new Error('Wrong constructor in arguments.')\n  }\n\n  return true\n}\n\n/**\n * Returns true if o looks like a promise. From the es-promisify package.\n * https://github.com/digitaldesignlabs/es6-promisify/\n * @param  {object} o Object to test\n * @return {bool}   True if looks like a promise, false otherwise\n */\nfunction looksLikeAPromise(o) {\n  return o && typeof o.then === 'function' && typeof o.catch === 'function'\n}\n\n\n/**\n * From http://www.datchley.name/promise-patterns-anti-patterns/\n * @param  {int} ms delay in ms\n * @return {promise} promise which will resolve in delay ms\n */\nfunction delay(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms)\n  })\n}\n\n/**\n * @param  {int} min min delay in ms\n * @param  {int} max max delay in ms\n * @return {promise} promise which will resolve in delay ms\n */\nfunction jitter(min = mandatory(), max = mandatory()) {\n  return new Promise((resolve) => {\n    const randomDuration = _.random(min, max)\n    setTimeout(resolve, randomDuration)\n  })\n}\n\n/**\n * Recurse on a given promise chain\n * @param  {Promise} promise Promise to recurse on\n * @param  {numeric} amount  amount of time to recurse\n * @return {Promise}         Promise\n */\nfunction recurse(promiseGenerator = mandatory(),\n  amount = mandatory(),\n  target = this, args = [],\n  concatOnArray = []) {\n  // Base case - just return the promisified result\n  if (amount === 0) {\n    return new Promise((resolve) => {\n      resolve(concatOnArray)\n    })\n  }\n\n\n  const next = promiseGenerator.apply(target, args).then((r) => {\n    concatOnArray = concatOnArray.concat(r)\n    return (recurse(promiseGenerator, amount - 1, target, args, concatOnArray))\n  })\n\n  return next\n}\n\n/**\n * Compatible helper to replace the now defunc Promise.defer()\n * @method Deferred\n */\nfunction Deferred() {\n  // update 062115 for typeof\n  // if (typeof (Promise) !== 'undefined' && Promise.defer) {\n  //   //need import of Promise.jsm for example: Cu.import('resource:/gree/modules/Promise.jsm');\n  //   return Promise.defer();\n  // } else if (typeof (PromiseUtils) != 'undefined' && PromiseUtils.defer) {\n  //   //need import of PromiseUtils.jsm for example: Cu.import('resource:/gree/modules/PromiseUtils.jsm');\n  //   return PromiseUtils.defer();\n  // } else {\n  /* A method to resolve the associated Promise with the value passed.\n   * If the promise is already settled it does nothing.\n   *\n   * @param {anything} value : This value is used to resolve the promise\n   * If the value is a Promise then the associated promise assumes the state\n   * of Promise passed as value.\n   */\n  this.resolve = null\n\n  /* A method to reject the assocaited Promise with the value passed.\n   * If the promise is already settled it does nothing.\n   *\n   * @param {anything} reason: The reason for the rejection of the Promise.\n   * Generally its an Error object. If however a Promise is passed, then the Promise\n   * itself will be the reason for rejection no matter the state of the Promise.\n   */\n  this.reject = null\n\n  /* A newly created Pomise object.\n   * Initially in pending state.\n   */\n  this.promise = new Promise((resolve, reject) => {\n    this.resolve = resolve\n    this.reject = reject\n  })\n  Object.freeze(this)\n  // }\n}\n\n/**\n * From http://stackoverflow.com/questions/3751520/how-to-generate-sequence-of-numbers-chars-in-javascript\n * TODO Pull request math js\n * @param  {object} content Repeated sequence\n * @param  {int} count   Number of time the sequence must be repeat\n * @return {array}       Array with repeated sequence\n */\nfunction rep(content = mandatory(), count = mandatory()) {\n  let result = []\n  if (typeof (content) === 'function') {\n    for (let i = 0; i < count; i++) {\n      result = result.concat(content(i))\n    }\n  } else {\n    for (let i = 0; i < count; i++) {\n      result = result.concat(content)\n    }\n  }\n  return result\n}\n\nfunction samplePermutation(sequence = mandatory(), repetition = false, n = null) {\n  if (sequence.constructor !== Array) {\n    throw new Error('samplePermutation: sequence needs to be an array.')\n  }\n\n  if (n === null) {\n    n = sequence.length\n  }\n\n  const copy = sequence.slice(0)\n  let permutation = []\n  let add\n  while ((repetition && (permutation.length < n)) || ((!repetition) && (copy.length))) {\n    const index = Math.floor(Math.random() * copy.length)\n    if (repetition) {\n      add = copy[index]\n    } else {\n      add = copy.splice(index, 1)\n    }\n    permutation = permutation.concat(add)\n  }\n\n  return (permutation)\n}\n\n/* =============== Personalized Matrix Functions =============== */\nfunction matrix(rows = mandatory(), cols = mandatory(), fill = 0) {\n  const matrixObject = []\n\n  for (let i = 0; i < rows; i++) {\n    matrixObject[i] = []\n    for (let j = 0; j < cols; j++) {\n      matrixObject[i][j] = fill\n    }\n  }\n\n  return (matrixObject)\n}\n\nfunction getRow(matrixObject = mandatory(), rowIndex = mandatory()) {\n  matrixObject = math.matrix(matrixObject)\n  const size = (matrixObject.size())[0]\n  const row = math.subset(matrixObject, math.index(rowIndex, math.range(0, size)))\n\n  return (row)\n}\n\nfunction rowSum(matrixObject = mandatory(), rows = null) {\n  matrixObject = math.matrix(matrixObject)\n  const size = (matrixObject.size())[0]\n  if (rows === null) {\n    rows = math.range(0, size - 1)\n  }\n  if (rows.constructor !== Array) {\n    rows = [rows]\n  }\n\n  const rowSumArray = []\n  for (let i = 0; i < rows.length; i++) {\n    rowSumArray.push(math.sum(getRow(matrixObject, rows[i])))\n  }\n\n  return (rowSumArray)\n}\n\n// set or get the diagonal of a matrix\nfunction diag(matrixObject = mandatory(), setTo = null) {\n  const rows = matrixObject.length\n  // const cols = matrixObject[0].length\n\n  const diagonalValues = []\n\n  for (let i = 0; i < rows; i++) {\n    if (setTo) {\n      matrixObject[i][i] = setTo\n    }\n    diagonalValues.push(matrixObject[i][i])\n  }\n\n  return ([diagonalValues, matrixObject])\n}\n\n/**\n * Find all the positions of a needle in a haystack string\n * @param  {string} needle   string to find\n * @param  {string} haystack string to scan\n * @return {Array}  Either -1 if no match is found or an array containing the indicies\n */\nfunction findAllIndices(needle = mandatory(), haystack = mandatory()) {\n  const indices = []\n  for (let i = 0; i < haystack.length; i++) {\n    if (haystack.substr(i, needle.length) === needle) {\n      indices.push(i)\n    }\n  }\n\n  if (indices.length) {\n    return indices\n  }\n  return -1\n}\n\n\nexport { diag,\n  rowSum,\n  getRow,\n  matrix,\n  samplePermutation,\n  rep,\n  Deferred,\n  recurse,\n  jitter,\n  delay,\n  looksLikeAPromise,\n  mustHaveConstructor,\n  mustBeDefined,\n  mandatory,\n  debuglog,\n  debugWarn,\n  debugError,\n  noop,\n  findAllIndices,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js","import $ from 'jquery'\nimport { debuglog } from './utilities'\n\n/** Dragable div - Parent class suporting the toolbox  */\nexport default class DragBox {\n  constructor(boxElement = null, width = null, height = null) {\n    // mock window if in node\n    if (typeof window === 'undefined') {\n      global.window = {}\n    }\n\n    this.freeHeight = true\n    if (height !== null) {\n      this.freeHeight = false\n    }\n    // constants\n    this.MAX_BINDED_PROPERTIES = 15\n    this.INIT_WIDTH = width || 400\n    this.INIT_HEIGHT = height || 300\n    this.TITLE_HEIGHT = 36\n    this.FOOTER_HEIGHT = 34\n    this.DEFAULT_BOX_THEME = 'dragbox-gray'\n    this.DEFAULT_DRAGGABLE = true\n    this.DEFAULT_STICKINESS_TYPE = 'magnetized'\n\n    // ui variables\n    this.boxId = null\n    this.boxElement = boxElement\n    this.draggable = this.DEFAULT_DRAGGABLE\n    this.boxHTML = null\n\n    // stickness\n    this.shouldStick = null\n    this.shouldMagnetize = null\n    this.isStickingX = null\n    this.isStickingY = null\n\n    this.stickiness = this.DEFAULT_STICKINESS_TYPE\n\n    // private\n    this._beingDragged = false\n    this._visibility = 'hidden'\n    this._overflow = 'hidden'\n    this._boxClass = this.DEFAULT_BOX_THEME\n    this._width = this.INIT_WIDTH\n    this._height = this.INIT_HEIGHT\n\n    // keyboard variables\n    // maps the keys pressed with either true on kedown or false on keyup\n    this.map = []\n\n    // keep mouse position at all times\n    this.currentMousePos = {\n      x: -1,\n      y: -1,\n    }\n\n    const thisObject = this\n\n    $(document).mousemove((event) => {\n      thisObject.currentMousePos.x = event.pageX\n      thisObject.currentMousePos.y = event.pageY\n    })\n\n    // check if the box already exists, else create it\n    if (!this.boxElement) {\n      // get a unique ID for the box\n      this.boxId = `dragbox${$('div[id*=\"dragbox\"]').length + 1}`\n\n      // html for creation\n      this.boxHTML = `<div id=\"${this.boxId}\" class=\"dragbox ${this._boxClass}\" style=\"display:none;\" draggable=\"false\">\n          <div class=\"col-xs-12 dragbox-container\">\n            <div class=\"col-xs-12 dragbox-title centered\"><h3>Dragbox</h3></div>\n          <div class=\"col-xs-12 dragbox-content\"></div>\n          <div class=\"col-xs-12 dragbox-footer\"></div>\n        </div>`\n\n      $(document.body).append(this.boxHTML)\n      this.boxElement = $(`#${this.boxId}`)\n    } else {\n      this.boxId = $(this.boxElement).attr('id')\n    }\n\n    // set class\n    this.boxClass = $(this.boxElement).attr('class')\n\n    // set size\n    this.width = this._width\n    this.height = this._height\n\n    // set overflow\n    this.overflow = 'hidden'\n\n    // keyboard show hide hotkeys events\n    $(document.body).keydown((e) => {\n      thisObject.keyfunction(e)\n    })\n    $(document.body).keyup((e) => {\n      thisObject.keyfunction(e)\n    })\n\n    // when clicked bring  dragbox\n    $(this.boxElement).click(() => {\n      $('.dragbox').css('zIndex', 10)\n      $(thisObject.boxElement).css('zIndex', 100)\n    })\n\n    $(this.boxElement).find('.dragbox-title').mousedown((e) => {\n      thisObject.startDrag(e)\n    })\n    $(this.boxElement).find('.dragbox-title').mouseup((e) => {\n      thisObject.stopDrag(e)\n    })\n\n    // draggin cleanUp event\n    $(document).click((e) => {\n      thisObject.stopDrag(e)\n    })\n\n    /* --- Load the query string if reload and import was used --- */\n    this.queryString = DragBox.getQueryString()\n  }\n  // destroy\n  destroy() {\n    // fade out and remove from DOM\n    const thisObject = this\n    $(this.boxElement).animate({\n      opacity: 0,\n    }, 25, () => {\n      $(thisObject.boxElement).remove()\n    })\n  }\n\n  // size methods\n  updateSize() {\n    $(this.boxElement).width(this.width)\n    if (!this.freeHeight) {\n      $(this.boxElement).height(this.height)\n      const contentHeight = this.height - this.TITLE_HEIGHT - this.FOOTER_HEIGHT - 7\n      $(this.boxElement).css({\n        height: this.height,\n        width: this.width,\n      })\n      $(this.boxElement)\n        .find('.dragbox-container')\n        .css({\n          height: this.height,\n        })\n      $(this.boxElement)\n        .find('.dragbox-content')\n        .css({\n          height: contentHeight,\n        })\n    } else {\n      $(this.boxElement).css({\n        width: this.width,\n      })\n    }\n  }\n\n  // drag methods\n  startDrag(e) {\n    // prevent classic dragging from happening\n    e.preventDefault()\n\n    // check if already being dragged, stop the dragging if so\n    if (this.beingDragged) {\n      this.beingDragged = false\n      return null\n    }\n\n    if (!this.draggable) {\n      return null\n    }\n\n    // calculate X and Y offset of the mouse compare to the top left corner of the box\n    const offset = {\n      x: e.clientX - $(this.boxElement).offset().left,\n      y: e.clientY - $(this.boxElement).offset().top,\n    }\n\n    // set the beingdragged flag to true\n    this.beingDragged = true\n\n    // start the update loop for smooth dragging\n    this.loopDrag(offset)\n\n    // another way of preventing default, just in case\n    return false\n  }\n\n  stopDrag() {\n    this.beingDragged = false\n  }\n\n  loopDrag(offset) {\n    if (this.beingDragged === true) {\n      const newPosX = this.currentMousePos.x - offset.x\n      const newPosY = this.currentMousePos.y - offset.y\n\n      const element = {\n        offsetLeft: newPosX,\n        offsetTop: newPosY,\n        offsetWidth: $(this.boxElement).width(),\n        offsetHeigth: $(this.boxElement).height(),\n      }\n\n      // maintain box totally visible and check for sticky borders\n      const constrainedPosition = DragBox.stayInWindow(element)\n      let constrainedPositionX = constrainedPosition.x\n      let constrainedPositionY = constrainedPosition.y\n\n      // stickiness\n      // glue\n      if (this.shouldStick) {\n        // make the box sticky if collided with x border\n        if ((constrainedPosition.stickyX === -2) || (constrainedPosition.stickyX === 2)) {\n          this.isStickingX = true\n        }\n\n        // for sticky window, check if the box got out of the sticky x aera before authorizing movement in x\n        if (this.isStickingX && constrainedPosition.stickyX !== 0) {\n          constrainedPositionX = constrainedPosition.leftSticky // stick to the window\n        }\n\n        // make sure stickiness disapears when out of the sticky zone\n        if (constrainedPosition.stickyX === 0) {\n          this.isStickingX = false\n        }\n\n        // make the box sticky if collided with y border\n        if ((constrainedPosition.stickyY === -2) || (constrainedPosition.stickyY === 2)) {\n          this.isStickingY = true\n        }\n\n        // for sticky window, check if the box got out of the sticky y aera before authorizing movement in y\n        if (this.isStickingY && constrainedPosition.stickyY !== 0) {\n          constrainedPositionY = constrainedPosition.topSticky // stick to the window\n        }\n\n        // make sure stickiness disapears when out of the sticky zone\n        if (constrainedPosition.stickyY === 0) {\n          this.isStickingY = false\n        }\n      }\n\n      // magnet\n      if (this.shouldMagnetize) {\n        constrainedPositionX = constrainedPosition.leftSticky\n        constrainedPositionY = constrainedPosition.topSticky\n      }\n\n      const thisObject = this\n      $(this.boxElement).animate({\n        left: constrainedPositionX,\n        top: constrainedPositionY,\n      }, 25, () => { thisObject.loopDrag(offset) })\n    }\n  }\n\n  // keyboard functions\n  keyfunction() {\n    // check if shift + P hotkeys were stroke and toggle visibility if so\n    debuglog('dragbox: keyfunction() called.', this)\n  }\n\n  // visibility functions\n  toggle() {\n    // toggle box visibility\n    if (this.visibility === 'hidden') {\n      this.visibility = 'visible'\n    } else {\n      this.visibility = 'hidden'\n    }\n  }\n\n  show() {\n    this.visibility = 'visible'\n  }\n\n  hide() {\n    this.visibility = 'hidden'\n  }\n\n  // content function\n  /**\n   * Add the specified html code to the specified target.\n   * If wrapInDivClass is set, a div of specified class is created around the html code. This could be usefull to set grid class like 'col-xs-12'.\n   * @param  {string} html           html to append to the target\n   * @param  {String} to             target identifier eg .target-class or #targetID\n   * @param  {String} wrapInDivClass Null by default. If set, creates a div with specified class wrapping the html code.\n   */\n  append(html, to = '.dragbox-content', wrapInDivClass = null) {\n    // TODO Convert all element creation to pure javascript -- make a react version\n    // append html to the selected child element of the dragbox\n    if (this.boxElement) {\n      if (wrapInDivClass !== null) {\n        html = `<div class=\"${wrapInDivClass}\" >${html}</div>`\n      }\n\n      if (to !== 'container') {\n        this.boxElement.find(to).append(html)\n      } else {\n        this.boxElement.append(html)\n      }\n    }\n  }\n\n  /**\n   * set or get html of the selected child element of the DragBox\n   * @param  {String} child child selector\n   * @param  {?string} value Either null if you want to get the html or a string to set the html of the node\n   * @return {?string}       If value is null, returns a string of the html content of the node.\n   */\n  html(child = '.dragbox-content', value = null) {\n    if (this.boxElement) {\n      const target = (child !== 'container') ? this.boxElement.find(child) : this.boxElement\n\n      if (value !== null) {\n        target.html(value)\n        return value\n      }\n\n      return target.html()\n    }\n\n    return null\n  }\n\n  /* ======== Setters and getters ======== */\n  set width(width) {\n    this._width = width\n    this.updateSize()\n  }\n\n  get width() {\n    return this._width\n  }\n\n  set height(height) {\n    this._height = height\n    this.updateSize()\n  }\n\n  get height() {\n    return this._height\n  }\n\n  set beingDragged(dragged) {\n    this._beingDragged = dragged\n    $(this.boxElement).attr('beingDragged', dragged)\n  }\n\n  get beingDragged() {\n    return this._beingDragged\n  }\n\n  set boxClass(newClass) {\n    if (this.boxElement) {\n      if (typeof newClass !== 'string') {\n        throw new Error('newClass must be a string')\n      }\n\n      // if there is more than one class in the string take the first one\n      // var spacePos = newClass.indexOf(\" \");\n      // if (spacePos != -1) {\n      //   newClass = newClass.substr(0, spacePos);\n      // }\n      // remove the old class from the boxElement and add the new class\n      this.boxElement.removeClass(this.boxClass).addClass(newClass)\n      this._boxClass = newClass\n    }\n  }\n\n  get boxClass() {\n    if (this.boxElement) {\n      return this._boxClass\n    }\n    return null\n  }\n\n  set visibility(visibility) {\n    this._visibility = visibility\n    if (visibility === 'visible') {\n      // $(this.boxElement).animate({\n      //   opacity: 1.0\n      // }, 150);\n      $(this.boxElement).show()\n    } else {\n      // $(this.boxElement).animate({\n      //   opacity: 0.0\n      // }, 150);\n      $(this.boxElement).hide()\n    }\n  }\n\n  get visibility() {\n    return this._visibility\n  }\n\n  set overflow(overflow) {\n    this._overflow = overflow\n    $(this.boxElement).find('.dragbox-content').css('overflow-y', overflow)\n  }\n\n  get overflow() {\n    return this._overflow\n  }\n\n  /**\n   * Variable defining how the box behaves near screen limit, weither it stick \"glue\", it magnetize \"magnetized\" or it has no interaction \"none\".\n   * @return {string} Either glue, or magnetized\n   */\n  static get stickiness() { /**/ }\n  static get title() { /**/ }\n\n  get stickiness() {\n    return this._stickiness\n  }\n\n  set stickiness(type) {\n    // different type of stickyness for the box : \"none\", \"glue\", \"magnetized\"\n    switch (type) {\n      case 'glue':\n        this.shouldStick = true\n        this.shouldMagnetize = false\n        debuglog('stickiness set to glue')\n        break\n      case 'magnetized':\n        this.shouldStick = false\n        this.shouldMagnetize = true\n        debuglog('stickiness set to magnetized')\n        break\n      default:\n        this.shouldMagnetize = false\n        this.shouldStick = false\n        debuglog('Parambox: stickiness set to none')\n    }\n    this._stickiness = type\n  }\n\n  get title() {\n    if (this.boxElement) {\n      $(this.boxElement).find('.dragbox-title').html()\n    }\n  }\n\n  set title(html) {\n    if (this.boxElement) {\n      $(this.boxElement).find('.dragbox-title').html(html)\n      this.updateSize()\n    }\n  }\n\n  set content(html) {\n    if (this.boxElement) {\n      this.contentDiv.html(html)\n      this.updateSize()\n    }\n  }\n\n  get content() {\n    if (this.boxElement) {\n      return this.contentDiv.html()\n    }\n\n    return null\n  }\n\n  get contentDiv() {\n    if (this.boxElement) {\n      return $(this.boxElement).find('.dragbox-content')\n    }\n\n    return null\n  }\n\n  /* =============== Helper functions =============== */\n  /**\n   * From http://stackoverflow.com/questions/979975/how-to-get-the-value-from-the-get-parameters?page=1&tab=votes#tab-top\n   * @return {Array} Array containing variables of the location string.\n   */\n  static getQueryString() {\n    // This function is anonymous, is executed immediately and\n    // the return value is assigned to QueryString!\n    const queryString = {}\n    const query = window.location.search.substring(1)\n    const vars = query.split('&')\n    for (let i = 0; i < vars.length; i++) {\n      const pair = vars[i].split('=')\n      // If first entry with this name\n      if (typeof queryString[pair[0]] === 'undefined') {\n        queryString[pair[0]] = decodeURIComponent(pair[1])\n        // If second entry with this name\n      } else if (typeof queryString[pair[0]] === 'string') {\n        const arr = [queryString[pair[0]], decodeURIComponent(pair[1])]\n        queryString[pair[0]] = arr\n        // If third or later entry with this name\n      } else {\n        queryString[pair[0]].push(decodeURIComponent(pair[1]))\n      }\n    }\n    return queryString\n  }\n\n  /* ======== Static ======== */\n  // TODO make non static probably\n  // some static helper functions\n  static stayInWindow(element) {\n    if (typeof element === 'undefined') {\n      throw new Error('element is undefined')\n    }\n\n    // constants\n    const STOP_BEING_STICKY_AFTER = 0.15\n\n    // times the size in distance\n    // coordinates\n    const left = element.offsetLeft\n    const right = element.offsetLeft + element.offsetWidth\n    const top = element.offsetTop\n    const bottom = element.offsetTop + element.offsetHeigth\n\n    const maxLeft = window.innerWidth - element.offsetWidth\n    const maxTop = window.innerHeight - element.offsetHeigth\n\n    // TODO Clarify the integer constants and do not use nested ternary if possible\n    return {\n      x: left < 0 ? 0 : right > window.innerWidth ? maxLeft : left,\n      y: top < 0 ? 0 : bottom > window.innerHeight ? maxTop : top,\n      stickyX: left <= 0 ?\n        -2 : left <= STOP_BEING_STICKY_AFTER * element.offsetWidth ?\n        -1 : right >= window.innerWidth ?\n        2 : right >= (window.innerWidth - (STOP_BEING_STICKY_AFTER * element.offsetWidth)) ?\n        1 : 0,\n      stickyY: top <= 0 ? -2 :\n        top <= STOP_BEING_STICKY_AFTER * element.offsetHeigth ? -1 :\n        bottom >= window.innerHeight ? 2 :\n        bottom >= (window.innerHeight - (STOP_BEING_STICKY_AFTER * element.offsetHeigth)) ? 1 :\n        0,\n      leftSticky: left <= 0 ? 0 :\n        left <= STOP_BEING_STICKY_AFTER * element.offsetWidth ? 0 :\n        right >= window.innerWidth ? window.innerWidth - element.offsetWidth :\n        (right >= window.innerWidth - (STOP_BEING_STICKY_AFTER * element.offsetWidth)) ? window.innerWidth - element.offsetWidth :\n        left,\n      topSticky: top <= 0 ? 0 :\n        top <= STOP_BEING_STICKY_AFTER * element.offsetHeigth ? 0 :\n        bottom >= window.innerHeight ? window.innerHeight - element.offsetHeigth :\n        bottom >= window.innerHeight - (STOP_BEING_STICKY_AFTER * element.offsetHeigth) ? window.innerHeight - element.offsetHeigth :\n        top,\n    }\n  }\n\n  static getCoordinateInWindow(element) {\n    const left = element.offsetLeft\n    const right = element.offsetLeft + element.offsetWidth\n    const top = element.offsetTop\n    const bottom = element.offsetTop + element.offsetHeigth\n\n    const maxLeft = window.innerWidth - element.offsetWidth\n    const maxTop = window.innerHeight - element.offsetHeigth\n\n    return {\n      left,\n      right,\n      top,\n      bottom,\n      maxLeft,\n      maxTop,\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/DragBox.js","import $ from 'jquery'\nimport BindedProperty from './BindedProperty'\nimport { debugError, mandatory } from './utilities'\n\nexport default class BindedField extends BindedProperty {\n  // this class holds an active input field (select, text input, slider component)\n  // it creates a field from the selected type and bind a binded property to it\n  constructor(\n    object = mandatory('object'),\n    property = mandatory('property'),\n    parent = null,\n    fieldType = 'input',\n    allowedValues = null,\n    hierarchy = null,\n  ) {\n    super(object, property, hierarchy)\n\n    // constant\n    this.VALID_FIELD_TYPE = ['input', 'select', 'slider', 'radio']\n\n    // field\n    this._field = undefined\n    this.fieldType = fieldType\n    this.fieldHTML = null\n    this.allowedValues = allowedValues\n    this.tempClass = `binded-${typeof object}${property}`\n    this.subfields = []\n\n    // parent\n    this.parent = parent\n\n    // build the field html\n    let html = ''\n    switch (this.fieldType) {\n      case 'input':\n        this.fieldHTML = `<div class=\"form-group\"><label>${property}</label>\n        <input type=\"text\" class=\"form-control ${this.tempClass}\" data-binded=\"${property}\">\n        </div>`\n        break\n      case 'select':\n        if (!allowedValues) {\n          throw new Error('fieldType selector needs at least one allowedValues')\n        }\n\n        html += `<div class=\"form-group\">\n        <label>${property}</label>\n        <select class=\"form-control ${this.tempClass}\" data-binded=\"${property}\">`\n\n        for (let i = 0; i < this.allowedValues.length; i++) {\n          html += `${this.fieldHTML}<option value=\"${\n          this.allowedValues[i]\n          }\">${\n          this.allowedValues[i]\n          }</option>`\n        }\n        this.fieldHTML = `${html}</select></div>`\n        break\n      case 'textaera':\n        this.fieldHTML = `<div class=\"form-group\"><label>${property}</label>\n                            <textarea class=\"form-control ${this.tempClass}\" rows=\"3\" data-binded=\"${property}\"></textarea>\n                          </div>`\n        break\n      case 'slider':\n        this.fieldHTML = `<div class=\"form-group\"><label>${property}</label>\n      <input type=\"range\" data-binded=\"${property}\" class=\"form-control ${this.tempClass}\" min=\"${this.allowedValues[0]}\" max=\"${this.allowedValues[1]}\" step=\"${this.allowedValues[2]}\" />\n      </div>`\n        break\n      case 'radio':\n        html = `<fieldset class=\"form-group\"><label>${property}</label>`\n        for (const value of this.allowedValues) {\n          html += `<div class=\"form-check\">\n            <label class=\"form-check-label\">\n              <input type=\"radio\" class=\"form-check-input ${this.tempClass}\" name=\"${property}\" value=\"${value}\" data-binded=\"${property}\" checked>\n              ${value}\n            </label>\n          </div> `\n        }\n\n        this.fieldHTML = `${html}</fieldset>`\n        break\n      default:\n        throw new Error(\n        'fieldType is invalid : input, selector and slider are the only valid type for now',\n      )\n    }\n\n    if (parent) {\n      this.placeInParent()\n    }\n  }\n\n  // ui function\n  placeInParent(parent = null) {\n    if (parent) {\n      this.parent = parent\n    }\n\n    // appends html to the parent\n    $(this.parent).append(this.fieldHTML)\n\n    // radio type has several fields\n    if (this.fieldType === 'radio') {\n      const fields = $(`.${this.tempClass}`)\n\n      for (const field of fields) {\n        $(field).removeClass(`.${this.tempClass}`)\n        if (field.value === this.value) { field.checked = true }\n        this.subfields.push($(field))\n        // add event listener on change\n        $(field).change(() => {\n          this.update('field')\n        })\n      }\n    } else {\n      this.field = $(`.${this.tempClass}`)\n      this.field.removeClass(`.${this.tempClass}`)\n\n      if (this.allowedValues) {\n        if (this.allowedValues.constructor === Array) {\n          if (this.allowedValues.indexOf(this.value) !== -1) {\n            this.field.val(this.value)\n          } else {\n            this.field.val(this.allowedValues[0])\n          }\n        } else {\n          this.field.val(this.value)\n        }\n      } else {\n        this.field.val(this.value)\n      }\n\n      // add event listener on change\n      this.field.change(() => {\n        this.update('field')\n      })\n\n      this.field.keydown((e) => {\n        switch (e.keyCode) {\n          case 13:\n          /* Pressed enter */\n            this.update('field')\n            break\n          default:\n          /**/\n        }\n      })\n    }\n  }\n\n  delete() {\n    // delete the div\n    this.field.parent().remove()\n    this.property = null\n    this.object = null\n  }\n\n  update(origin = 'field') {\n    if (typeof this.field === 'undefined') {\n      debugError('BindedField.update: undefined field.')\n    } else if (origin === 'field') {\n      this.value = this.field.val()\n      $(this.field).get(0).blur()\n    } else if (\n        this.field.val().toUpperCase() !== String(this.value).toUpperCase()\n      ) {\n      this.field.val(this.value)\n    }\n  }\n\n  // getters and setters\n  set value(value) {\n    if (typeof this.object[this.property] === 'undefined') {\n      throw new Error('The variable you are trying to bind is undefined - either this object or the property is incorrect')\n    } else {\n      this.object[this.property] = this.convertToType(value)\n      this.update('setter')\n    }\n  }\n\n  get value() {\n    if (typeof this.object[this.property] === 'undefined') {\n      throw new Error('The variable you are trying to bind is undefined - either this object or the property is incorrect')\n    } else {\n      return this.object[this.property]\n    }\n  }\n\n  get field() {\n    if (this.subfields.length) {\n      for (const field of this.subfields) {\n        if ($(field)[0].checked) {\n          return $(field)\n        }\n      }\n    }\n    return $(this._field)\n  }\n\n  set field(field) {\n    this._field = field\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/BindedField.js","\nexport default class BindedProperty {\n  constructor(object = null, property = null, hierarchy = null) {\n    // constants\n    this.HANDLED_VARIABLE_TYPES = ['number', 'string', 'boolean']\n\n    // data properties\n    this.property = property\n    this.object = object\n    this.propagate = false\n    // to add ? chain propagation? a subscription system maybe...\n    this.type = null\n\n    // export value as hierarchy if set, else set as property name\n    this.hierarchy = hierarchy !== null ? hierarchy : property\n    this.exportName = this.hierarchy.replace(/\\./g, '')\n\n    if (!this.object) {\n      // if parent object is not set consider that the binding is with a variable in the global scope\n      this.object = window\n    }\n\n    if (property !== null) {\n      this.bind(object, property)\n    }\n  }\n\n  /* ======== Binding function ======== */\n  bind(object, property) {\n    const propertyType = typeof this.object[this.property]\n    if (propertyType === 'undefined') {\n      throw new Error(`Parambox: The variable '${property}' you are trying to bind is undefined - either this object or the property is not defined`)\n    } else {\n      if (this.HANDLED_VARIABLE_TYPES.indexOf(propertyType) === -1) {\n        throw new Error('The variable you are trying to bind is of a non-handled type (string, number or boolean)')\n      }\n\n      /**\n       * Binded property key\n       * @type {string}\n       */\n      this.property = property\n\n      /**\n       * Parent object\n       * @type {object}\n       */\n      this.object = object\n\n      /**\n       * Binded property type constructor\n       * @type {function}\n       */\n      this.type = this.object[this.property].constructor\n    }\n  }\n\n  convertToType(value) {\n    if (this.type) {\n      if (this.type === Boolean) {\n        switch (String(value).toUpperCase()) {\n          case '0':\n            return false\n          case '1':\n            return true\n          case 'FALSE':\n            return false\n          case 'TRUE':\n            return true\n          default:\n            throw new Error('BindedProperty.convertToType: invalid string value for boolean type')\n        }\n      }\n      return this.type(value)\n    }\n    throw new Error('You are trying to convert a value to a the type of the binded property but the object has no property binded to it (or no type)')\n  }\n  // getters and setters\n  set value(value) {\n    if (typeof this.object[this.property] === 'undefined') {\n      throw new Error(\n        'The variable you are trying to bind is undefined - either this object or the property is incorrect',\n      )\n    } else {\n      this.object[this.property] = this.convertToType(value)\n    }\n  }\n\n  get value() {\n    if (typeof this.object[this.property] === 'undefined') {\n      throw new Error(\n        'The variable you are trying to bind is undefined - either this object or the property is incorrect',\n      )\n    } else {\n      return this.object[this.property]\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/BindedProperty.js","import $ from 'jquery'\nimport DragBox from './DragBox'\n\n\n/** Helper class creating modals */\nexport default class SmartModal extends DragBox {\n\n  constructor(formatType = 'across', callback = null, buttonType = 'closebutton', boxElement = null) {\n    // call super constructor\n    super(boxElement)\n\n    // constants\n    this.DEFAULT_BUTTON_ROW_HTML = '<div class=\"col-xs-12 dragbox-row smartmodal-buttonrow\"></div>'\n    this.DEFAULT_BUTTON_HTML = {\n      closebutton: '<button type=\"button\" class=\"btn btn-secondary dragbox-button  smartmodal-closebutton\">Close</button>',\n      nextbutton: '<button type=\"button\" class=\"btn btn-secondary dragbox-button smartmodal-nextbutton\">Next</button>',\n      blankbutton: '<button type=\"button\" class=\"btn btn-secondary dragbox-button smartmodal-blankbutton\"></button>',\n      sendbutton: '<button type=\"button\" class=\"btn btn-secondary dragbox-button smartmodal-sendbutton\">Send</button>',\n    }\n    this.DEFAULT_FORMAT_TYPES = {\n      // format type desribe the topOffset, width, and height of the modal in proportion\n      // updatePosition is called when the window is resized\n      centralSmall: [0.2, 0.4, 0.3],\n      centralLarge: [0.2, 0.7, 0.6],\n      across: [0.3, 1, 0.4],\n      overlay: [0.1, 0.8, 0.8],\n    }\n\n    // callback\n    this.callback = callback\n\n    // ui\n    this.draggable = false\n    this.formatType = formatType\n    this.buttonRowHtml = this.DEFAULT_BUTTON_ROW_HTML\n\n    if (!(buttonType in this.DEFAULT_BUTTON_HTML)) {\n      throw new Error('buttonType invalid')\n    }\n    this.buttonType = buttonType\n\n    // row hold the row object in dom as well as the bindedField object {rowDom: row, bindedField: bindedField}\n    this.rows = []\n\n    // set dragbox title\n    this.title = '<center><h5>Smart Modal</h5></center>'\n\n    // setup the button\n    this.append(this.buttonRowHtml, '.dragbox-footer')\n    this.append(\n      this.DEFAULT_BUTTON_HTML[this.buttonType],\n      '.smartmodal-buttonrow',\n    )\n\n    this.button = $(this.boxElement).find(`.smartmodal-${this.buttonType}`)\n\n    // update position to fit the screen adequatly and show\n    this.callAfterConstructor()\n\n    // event listener for window resize updates the size and position.\n    const smartModalObject = this\n    $(window).resize(() => {\n      smartModalObject.updatePosition()\n    })\n\n    // event listener on the button\n    $(this.button).click(() => {\n      smartModalObject.callThenDestroy()\n    })\n  }\n\n  // after setup life cycle function\n  callAfterConstructor() {\n    // update position to fit the screen adequatly and show\n    this.updatePosition()\n    this.updateSize()\n    this.show()\n  }\n\n  // look for a callback then destroy\n  callThenDestroy() {\n    if (this.callback) {\n      this.callback()\n    }\n\n    this.destroy()\n  }\n\n  // position function\n  updatePosition() {\n    // var coordinates = Dragbox.getCoordinateInWindow(this.boxElement);\n    const innerHeight = window.innerHeight\n    const innerWidth = window.innerWidth\n    const format = this.DEFAULT_FORMAT_TYPES[this.formatType]\n    const topPos = format[0] * innerHeight\n    const leftPos = innerWidth * ((1 - format[1]) / 2)\n    const width = innerWidth * format[1]\n    const height = innerHeight * format[2]\n\n    this.width = width\n    this.height = height\n\n\n    $(this.boxElement).css({\n      left: leftPos,\n      top: topPos,\n    })\n    // $(this.boxElement).animate({\n    //   left: leftPos,\n    //   top: topPos,\n    // }, 25, () => {})\n    return false\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/SmartModal.js","import $ from 'jquery'\nimport DragBox from './DragBox'\nimport BindedField from './BindedField'\n\n/** Dragable box holding double binded parameters for live development */\nexport default class ParamBox extends DragBox {\n  constructor(boxElement = null) {\n    // call super constructor\n    super(boxElement)\n\n    // constants\n    this.DEFAULT_ROW_HTML = '<div class=\"col-md-12 dragbox-row paramboxtmprow\"></div>'\n\n    this.PARAMBOX_EMPTY_SUBTITLE_ROW_HTML = '<div class=\"col-md-12 dragbox-row paramboxtmprow\"><a class=\"parambox-subtitle\">Subtitle</a></div>'\n\n    this.PARAMBOX_EMPTY_ROW_HTML = '<div class=\"col-md-12 dragbox-row parambox-empty\"><center>No parameters binded.</center></div>'\n\n    this.DEFAULT_BUTTON_ROW_HTML = '<div class=\"col-xs-12 dragbox-row parambox-buttonrow\"></div>'\n    this.DEFAULT_BUTTON_HTML = {\n      savebutton: '<button type=\"button\" class=\"btn btn-secondary btn-block dragbox-button parambox-savebutton\">Save</button>',\n      importbutton: '<button type=\"button\" class=\"btn btn-secondary  btn-block dragbox-button parambox-importbutton\">Import</button>',\n      reloadbutton: '<button type=\"button\" class=\"btn btn-secondary btn-block dragbox-button parambox-reloadbutton\">Reload</button>',\n    }\n\n    // setup the buttons\n    this.append(this.DEFAULT_BUTTON_ROW_HTML, '.dragbox-footer')\n    this.append(\n      this.DEFAULT_BUTTON_HTML.savebutton,\n      '.parambox-buttonrow',\n      'col-xs-4',\n    )\n    this.append(\n      this.DEFAULT_BUTTON_HTML.importbutton,\n      '.parambox-buttonrow',\n      'col-xs-4',\n    )\n    this.append(\n      this.DEFAULT_BUTTON_HTML.reloadbutton,\n      '.parambox-buttonrow',\n      'col-xs-4',\n    )\n\n    const thisObject = this\n    this.boxElement[0].getElementsByClassName(\n      'parambox-savebutton',\n    )[0].addEventListener('click', (e) => {\n      thisObject.save(e)\n    })\n    this.boxElement[0].getElementsByClassName(\n      'parambox-importbutton',\n    )[0].addEventListener('click', (e) => {\n      thisObject.import(e)\n    })\n    this.boxElement[0].getElementsByClassName(\n      'parambox-reloadbutton',\n    )[0].addEventListener('click', (e) => {\n      thisObject.reloadAndImport(e)\n    })\n\n    $(document).on('click', '.parambox-subtitle', function clicked() {\n      const id = $(this).attr('subtitle-id')\n      $(`[parambox-belong-to='${id}']`).slideToggle(250)\n    })\n\n    // ui\n    this.rowHtml = this.DEFAULT_ROW_HTML\n    this.subtitleHtml = this.PARAMBOX_EMPTY_SUBTITLE_ROW_HTML\n\n    // row hold the row object in dom as well as the bindedField object {rowDom: row, bindedField: bindedField}\n    this.rows = []\n\n    this.subtitleRows = {}\n\n    // set dragbox title\n    this.title = '<h4><i class=\"fa fa-cog fa-1x\"></i> Parameter Box</h4>'\n\n    // set overflow\n    this.overflow = 'scroll'\n\n    // set prefix for exports TODO: IMPLEMENT IT IN EXPORTS\n    if (typeof window.paramPrefixIncrement === 'undefined') {\n      window.paramPrefixIncrement = 0\n    } else {\n      window.paramPrefixIncrement += 1\n    }\n\n    this.prefix = `paramBox${window.paramPrefixIncrement}`\n\n    // update size and refreshView\n    this.updateSize()\n\n    this.refreshView()\n  }\n\n  // binding methods\n  bind(object, properties, options = null) {\n    if (typeof object === 'undefined') {\n      throw new Error('object is undefined')\n    }\n\n    let objectHierarchy = null\n\n    if (properties.constructor !== Array) {\n      properties = [properties]\n    }\n\n    for (let i = 0; i < properties.length; i++) {\n      objectHierarchy = this.getDescendantProp(object, properties[i])\n      // TODO use lodash ?\n      const objectTemp = objectHierarchy[0]\n      const property = objectHierarchy[1]\n\n      const underscoredHierarchy = properties[i].replace(/\\./g, '')\n      const subtitle = properties[i].substring(0, properties[i].lastIndexOf('.'))\n\n      const rowDom = this.newRowInDom(subtitle)\n      let bindedField = null\n\n      /* --- look for a value in the query string for this property --- */\n      let initialValue = null\n      if (typeof this.queryString[underscoredHierarchy] !== 'undefined') {\n        initialValue = this.queryString[underscoredHierarchy]\n      }\n\n      // look for a constrained field\n      if ((options !== null) && (typeof options[properties[i]] !== 'undefined')) {\n        let type = options[properties[i]].type || 'input'\n        let constraintValues = null\n        if (options[properties[i]].constructor === Array) {\n          constraintValues = options[properties[i]]\n          type = options[properties[i]].type || 'select'\n        } else if (typeof options[properties[i]].values !== 'undefined') {\n          constraintValues = options[properties[i]].values\n          type = options[properties[i]].type || 'select'\n        }\n\n\n        if (initialValue !== null) {\n          if ((constraintValues !== null) && (type !== 'slider') && (constraintValues.indexOf(initialValue) === -1)) {\n            throw new Error(`ParamBox.bind: cannot set initial value to query string value of ${initialValue} because it is not in the options array.`)\n          }\n\n          objectTemp[property] = objectTemp[property].constructor(initialValue)\n        }\n\n        bindedField = new BindedField(\n            objectTemp,\n            property,\n            rowDom,\n            type,\n            constraintValues,\n            properties[i],\n          )\n      }\n\n\n      // if no constrained field found, create the most relevant type of field\n      if (bindedField === null) {\n        if (initialValue !== null) {\n          objectTemp[property] = objectTemp[property].constructor(initialValue)\n        }\n\n        if (objectTemp[property].constructor === Boolean) {\n          bindedField = new BindedField(\n            objectTemp,\n            property,\n            rowDom,\n            'select', ['TRUE', 'FALSE'],\n            properties[i],\n          )\n        } else {\n          bindedField = new BindedField(\n            objectTemp,\n            property,\n            rowDom,\n            'input',\n            null,\n            properties[i],\n          )\n        }\n      }\n\n      this.rows.push(this.getBindedRow(rowDom, bindedField))\n    }\n\n    this.refreshView()\n  }\n\n  unbind(object, property) {\n    for (let i = 0; i < this.rows.length; i++) {\n      const bindedField = this.rows[i].bindedField\n\n      if (bindedField.object === object && bindedField.property === property) {\n        this.rows.splice(i, 1)\n        bindedField.delete()\n      }\n    }\n\n    this.refreshView()\n  }\n\n  // ui methods\n  newRowInDom(subtitle = '') {\n    if (subtitle !== '') {\n      if (!(subtitle in this.subtitleRows)) {\n        let subtitleRow = null\n        $(this.boxElement).find('.dragbox-content').append(this.subtitleHtml)\n        subtitleRow = this.boxElement.find('.paramboxtmprow')\n        $(subtitleRow)\n          .removeClass('paramboxtmprow')\n          .find('a')\n          .attr('subtitle-id', subtitle)\n          .text(subtitle)\n        this.subtitleRows[subtitle] = $(subtitleRow)\n      }\n    }\n\n    let row = null\n    $(this.boxElement).find('.dragbox-content').append(this.rowHtml)\n    row = this.boxElement.find('.paramboxtmprow')\n    $(row).removeClass('paramboxtmprow').attr('parambox-belong-to', subtitle)\n\n    return row\n  }\n\n  getBindedRow(rowDom, bindedField) { // eslint-disable-line\n    return {\n      rowDom,\n      bindedField,\n    }\n  }\n\n  refreshView() {\n    // TODO: maybe check if all binded field are displayed in the paramBox. if not add them. get rid of unbinded field\n    /* --- Add an export button if there is at least one binded property --- */\n    if (this.rows.length) {\n      this.boxElement[0].getElementsByClassName(\n        'parambox-buttonrow',\n      )[0].style.visibility = 'visible'\n    } else {\n      this.boxElement[0].getElementsByClassName(\n        'parambox-buttonrow',\n      )[0].style.visibility = 'hidden'\n      // TODO: add empty message\n    }\n\n    /* --- Adapt the box's height to the number of parameters --- */\n    let height = 80 + (this.rows.length * 75)\n    if (height > 600) {\n      height = 600\n    }\n\n    this.height = height\n  }\n\n  keyfunction(e) {\n    // check if shift + P hotkeys were stroke and toggle visibility if so\n    this.map[e.keyCode] = e.type === 'keydown'\n\n    // hide and show parameter box\n    if (this.map[16] && this.map[80]) {\n      // 16 == Shift - 80 == P\n      // make sure to reset value in case keyup event is ignored (keep shift true for rapid toggle)\n      this.map[80] = false\n\n      // toggle box visibility\n      this.toggle()\n\n      // prevent default action if any\n      e.preventDefault()\n    }\n  }\n\n  /* ======== Import/Export functions ======== */\n  getSummaryArray() {\n    const summaryArray = []\n    for (let i = 0; i < this.rows.length; i++) {\n      const bindedField = this.rows[i].bindedField\n      summaryArray.push({\n        property: bindedField.property,\n        value: bindedField.value,\n        hierarchy: bindedField.hierarchy,\n        exportName: bindedField.exportName,\n      })\n    }\n\n    return summaryArray\n  }\n\n  import() {\n    // make it a smart form\n    // but while smart forms are finished use a simple prompt\n    const importedString = prompt('Enter a JSON string:')\n    let importedJSON = null\n    try {\n      importedJSON = JSON.parse(importedString)\n    } catch (e) {\n      console.error('ParamBox.import: Invalid JSON string - Parsing error:', e)\n    }\n\n    if (importedJSON !== null) {\n      if (importedJSON.constructor !== Array) {\n        console.error(\n          'ParamBox.import: Invalid JSON string - the parent object needs to be of the same structure as the summaryArray',\n        )\n      }\n\n      for (let i = 0; i < importedJSON.length; i++) {\n        if (typeof importedJSON[i].property === 'undefined') {\n          console.error(\n            `ParamBox.import: importedJSON[${i\n            }].property is undefined. Invalid JSON string - the parent object needs to be of the same structure as the summaryArray.`,\n          )\n        }\n        if (typeof importedJSON[i].value === 'undefined') {\n          console.error(\n            `ParamBox.import: importedJSON[${i\n            }].value is undefined. Invalid JSON string - the parent object needs to be of the same structure as the summaryArray.`,\n          )\n        }\n\n        this.setProperty(importedJSON[i].property, importedJSON[i].value)\n      }\n    }\n  }\n\n  save() {\n    // get summary array\n    const summaryArray = this.getSummaryArray()\n\n    // stringify summary object\n    const stringified = JSON.stringify(summaryArray, null, 2)\n\n    // opens a new window with the stringified json\n    let height = 30 + (summaryArray.length * 70)\n    if (height > 500) {\n      height = 500\n    }\n    window.open(\n      `data:application/json;${\n      window.btoa ? `base64,${btoa(stringified)}` : stringified}`,\n      'ParamBox.save',\n      `width=400,height=${height}`,\n    )\n  }\n\n  reloadAndImport() {\n    /* --- Serialize the parameters in URL format --- */\n    const summaryArray = this.getSummaryArray()\n    let str = ''\n    for (let i = 0; i < summaryArray.length; i++) {\n      if (str !== '') {\n        str += '&'\n      }\n      str += `${summaryArray[i].exportName}=${\n        encodeURIComponent(summaryArray[i].value)}`\n    }\n\n    /* --- Append the parameters and reload the page --- */\n    let url = window.location.href\n    const questionPosition = url.indexOf('?')\n    if (questionPosition !== -1) {\n      // delete arguments from the URL\n      url = url.substring(0, questionPosition)\n    }\n    url += `?${str}`\n    window.location.href = url\n  }\n\n  /**\n   * Gets the last object and property from a string description of object hierachy\n   * @param  {object} object      Top object from which the hierarchy starts\n   * @param  {string} description String describing the object hierachy (e.g this.object.has.property )\n   * @return {array}             [parentObject, lastProperty, propertyValue]\n   */\n  getDescendantProp(object, description) { // eslint-disable-line\n    const arr = description.split('.')\n    let parentObject = null\n    let lastProperty = null\n\n    while (arr.length) {\n      parentObject = object\n      lastProperty = arr.shift()\n\n      if (typeof object[lastProperty] === 'undefined') {\n        throw new Error(`object property ${lastProperty} is undefined`)\n      }\n\n      object = object[lastProperty]\n    }\n\n    /* the last object of the while is the value of the specified property */\n    const propertyValue = object\n\n    return [parentObject, lastProperty, propertyValue]\n  }\n\n  setProperty(property, value) {\n    if (property.constructor !== String) {\n      throw new Error('ParamBox.setProperty: property needs to be a string.')\n    }\n\n    let found = false\n    for (let i = 0; i < this.rows.length; i++) {\n      if (this.rows[i].bindedField.property === property) {\n        this.rows[i].bindedField.value = value\n        found = true\n      }\n    }\n\n    if (found === false) {\n      console.warn(`ParamBox.setProperty: did not find property ${property}`)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ParamBox.js","import Chart from 'chartjs'\nimport $ from 'jquery'\nimport SmartModal from './SmartModal'\nimport { mandatory } from './utilities'\n\n/** Wrapper class for easy chart creation using chart.js and SmartModal */\nexport default class SmartChart extends SmartModal {\n  constructor(options = mandatory(), callback = null, boxElement = null) {\n    if (typeof Chart === 'undefined') {\n      throw new Error('SmartChart.constructor: Chart.js is not loaded.')\n    }\n\n    if (options.constructor !== Object) {\n      throw new Error(\n        'SmartChart.constructor: options needs to be an object (chart.js chart options)',\n      )\n    }\n    super('overlay', callback, 'closebutton', boxElement)\n    // save options\n    this.chartOptions = $.extend(true, {}, options)\n\n    // set dragbox title\n    this.title = '<center><h5>Smart Chart</h5></center>'\n\n    // Create canvas\n    const canvasID = `chart-canvas${$('canvas').length + 1}`\n    this.content = `<canvas id=\"${canvasID}\" class=\"chart-canvas\"></canvas>`\n    this.canvas = document.getElementById(canvasID)\n\n    if (typeof options.options.title.text !== 'undefined') {\n      options.options.title.display = false\n      this.title = `<center><h5>${options.options.title.text}</h5></center>`\n    }\n\n    // Create chart\n    try {\n      Chart.defaults.global.responsive = true\n      Chart.defaults.global.maintainAspectRatio = false\n      this.chart = new Chart(this.canvas, options)\n    } catch (e) {\n      throw new Error(\n        `SmartChart.constructor: could not build the chart. Error: ${e}`,\n      )\n    }\n\n    this.canvas.style.background = 'white'\n    this.boxClass = 'dragbox dragbox-white-boxshadow'\n\n    // setup footer and buttons\n    this.DEFAULT_BUTTON_ROW_HTML = '<div class=\"col-xs-12 dragbox-row smartchart-buttonrow\"><div class=\"col-xs-10\"></div></div>'\n    this.DEFAULT_BUTTON_HTML = {\n      closebutton: '<button type=\"button\" class=\"btn btn-secondary dragbox-button  smartchart-closebutton\">Close</button>',\n      savebutton: '<button type=\"button\" class=\"btn btn-secondary dragbox-button smartchart-savebutton\">Save</button>',\n    }\n\n    this.html('.dragbox-footer', this.DEFAULT_BUTTON_ROW_HTML)\n\n    this.append(\n      this.DEFAULT_BUTTON_HTML.savebutton,\n      '.smartchart-buttonrow',\n      'col-xs-1 centered',\n    )\n    this.append(\n      this.DEFAULT_BUTTON_HTML.closebutton,\n      '.smartchart-buttonrow',\n      'col-xs-1 centered',\n    )\n\n    this.closeButton = $(this.boxElement).find('.smartchart-closebutton')\n    this.saveButton = $(this.boxElement).find('.smartchart-savebutton')\n    this.button = this.closeButton\n\n    // event listener on the button\n    $(this.closeButton).click(() => {\n      this.callThenDestroy()\n    })\n\n    $(this.saveButton).click(() => {\n      this.save()\n    })\n\n    this.updatePosition()\n    this.updateSize()\n\n    setTimeout(() => {\n      this.chart.resize()\n      this.show()\n    },\n      250,\n    )\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  callAfterConstructor() { /* Overides super */ }\n\n  /** Overides SmartModal.callThenDestroy() function */\n  callThenDestroy() {\n    // look for a callback then destroy\n    if (this.callback) {\n      this.callback()\n    }\n\n    // if chart destroy the chart .destroy()\n    if (typeof this.chart !== 'undefined' && typeof Chart !== 'undefined') {\n      if (this.chart.constructor === Chart) {\n        this.chart.destroy()\n      }\n    }\n    // call Dragbox.destroy()\n    this.destroy()\n  }\n\n  save() {\n    // stringify summary object\n    const stringified = JSON.stringify(this.chartOptions, null, 2)\n\n    // opens a new window with the stringified json\n    let height = 150 + (this.chartOptions.data.datasets.length * 150)\n    if (height > 500) {\n      height = 500\n    }\n\n    window.open(\n      `data:application/json;${\n      window.btoa ? `base64,${btoa(stringified)}` : stringified}`,\n      'SmartChart.save',\n      `width=400,height=${height}`,\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/SmartChart.js","/**\n * Experiment-boxes\n * Created. 2016\n *\n * Plug and play tools for easy development in js. Part of the experiment.js toolbox.\n *\n * Authors. Albert Buchard\n *\n * Requires: bootstrap and jQuery\n *\n * LICENSE MIT\n */\n\nimport DragBox from './src/DragBox'\nimport ParamBox from './src/ParamBox'\nimport SmartModal from './src/SmartModal'\nimport SmartChart from './src/SmartChart'\nimport BindedProperty from './src/BindedProperty'\nimport BindedField from './src/BindedField'\nimport { findAllIndices } from './src/utilities'\n\nif (typeof window !== 'undefined') {\n  window.DragBox = DragBox\n  window.ParamBox = ParamBox\n  window.SmartModal = SmartModal\n  window.SmartChart = SmartChart\n  window.BindedProperty = BindedProperty\n  window.BindedField = BindedField\n\n  /* === Get the absolute path of the library === */\n  let paramBoxFullpath = './'\n  const scripts = document.getElementsByTagName('script')\n  if (scripts.length) {\n    paramBoxFullpath = scripts[scripts.length - 1].src\n    const delimiterIndices = findAllIndices('/', paramBoxFullpath)\n    paramBoxFullpath = paramBoxFullpath.substr(0, delimiterIndices[delimiterIndices.length - 1])\n  }\n\n/* === Add the paramBox css once the page is loaded === */\n  document.addEventListener('DOMContentLoaded', () => {\n    const head = document.getElementsByTagName('head')[0]\n    const link = document.createElement('link')\n    link.rel = 'stylesheet'\n    link.type = 'text/css'\n    link.href = `${paramBoxFullpath}/experimentBoxes.css`\n    head.appendChild(link)\n  })\n}\n\nexport {\n  DragBox,\n  ParamBox,\n  SmartModal,\n  SmartChart,\n  BindedProperty,\n  BindedField,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./builder.js","const DEBUG_MODE_ON = true\n\nexport { DEBUG_MODE_ON }\n\n\n\n// WEBPACK FOOTER //\n// ./config.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 10\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"chartjs\",\"commonjs2\":\"chartjs\",\"amd\":\"chartjs\",\"root\":\"Chart\"}\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"experiment-mathjs\",\"commonjs2\":\"experiment-mathjs\",\"amd\":\"experiment-mathjs\",\"root\":\"math\"}\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}